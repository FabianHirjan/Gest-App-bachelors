<!DOCTYPE html>
<head>
    <title>Create Car</title>
</head>
<body>
<h2>Create Car</h2>
<form id="createCarForm">
    <div>
        <label for="type">Type:</label>
        <input type="text" id="type" name="type" required />
    </div>
    <div>
        <label for="licensePlate">License Plate:</label>
        <input type="text" id="licensePlate" name="licensePlate" required />
    </div>
    <div>
        <label for="mileage">Mileage:</label>
        <input type="number" id="mileage" name="mileage" required />
    </div>
    <div>
        <label for="lastOilChange">Last Oil Change:</label>
        <input type="date" id="lastOilChange" name="lastOilChange" required />
    </div>
    <div>
        <label for="insuranceExpirationDate">Insurance Expiration Date:</label>
        <input type="date" id="insuranceExpirationDate" name="insuranceExpirationDate" required />
    </div>
    <div>
        <label for="itpExpirationDate">ITP Expiration Date:</label>
        <input type="date" id="itpExpirationDate" name="itpExpirationDate" required />
    </div>
    <button type="submit">Create Car</button>
</form>

<script>
    document.getElementById('createCarForm').addEventListener('submit', function(event) {
        event.preventDefault();

        const carData = {
            type: document.getElementById('type').value,
            licensePlate: document.getElementById('licensePlate').value,
            mileage: document.getElementById('mileage').value,
            lastOilChange: document.getElementById('lastOilChange').value,
            insuranceExpirationDate: document.getElementById('insuranceExpirationDate').value,
            itpExpirationDate: document.getElementById('itpExpirationDate').value
        };

        fetch('/api/cars', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(carData)
        })
            .then(response => response.json())
            .then(data => {
                alert('Car created successfully!');
                console.log(data);
            })
            .catch(error => {
                console.error('Error:', error);
                alert('There was an error creating the car.');
            });
    });
</script>
</body>
</html>
